$(document).ready(function(){
  //On click event for "Save" button on graph toolbar
  $('#graph-save').click(function(){
    $('#graph-save-modal').modal('show');
  });

  //On click event for "Save" button on graph toolbar during edit
  $('#graph-update').click(function(){
    var graphId = $(this).data("graphId");
    $('.graph-area').graphArea("update", graphId);
  });

  //On click event for "Save graph" in Save Graph modal
  $('.graph-save-submit').click(function(){
    var graphName = $('input#graph-name').val().trim();
    if(graphName == "")
      addMessagesToDiv($('#graph-save-error-messages'), getErrorMessage('Graph name cannot be empty'));
    else
    {
      $('#graph-save-modal').modal('hide');
      $('.graph-area').graphArea("save", graphName);
    }
    //Do not submit form
    return false;
  });

});
